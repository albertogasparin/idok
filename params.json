{"name":"Idok","tagline":"A simple command line to stream media to kodi (aka xbmc)","body":"What is it ?\r\n============\r\n\r\nIDOK (kodi reversed name) is a Go program that allows to serve medias to your Kodi plateform (raspbmc, xbmc...)\r\n\r\nYou may be able to send video, images and music from your computer.\r\n\r\nIdok has got two modes:\r\n\r\n* your computer serve media from a standard port (default 8080)\r\n* your computer dig a tunnel and serve media\r\n\r\nInstallation\r\n============\r\n\r\n## Install distribution\r\n\r\nLinux users can use the auto-install:\r\n\r\n\tbash <(wget https://github.com/metal3d/idok/releases/download/20140910-1/install-idok.sh -qO -)\r\n\r\nOr with curl:\r\n\r\n\tbash <(curl -L https://github.com/metal3d/idok/releases/download/20140910-1/install-idok.sh)\r\n\r\nCheck that ~/.local/bin is in your PATH. Then try to call:\r\n\r\n\tidok -h\r\n\r\nIf you want to get yourself the packed file for Linux, FreeBSD, MacOSX and Windows, here are the urls:\r\n\r\n* [Linux x64](https://github.com/metal3d/idok/releases/download/20140910-1/idok-x86_64.gz)\r\n* [Linux i686](https://github.com/metal3d/idok/releases/download/20140910-1/idok-i686.gz)\r\n* [FreeBSD 64 bits](https://github.com/metal3d/idok/releases/download/20140910-1/idok-freebsd64.gz)\r\n* [FreeBSD 32 bits](https://github.com/metal3d/idok/releases/download/20140910-1/idok-freebsd32.gz)\r\n* [MacOSX 64 bits](https://github.com/metal3d/idok/releases/download/20140910-1/idok-darwin.gz)\r\n* [Windows 64 bits](https://github.com/metal3d/idok/releases/download/20140910-1/idok.zip)\r\n\r\n(I need help for Mac because I don't have one and cannot be sure of how to install the command at the right path...)\r\n\r\nWindows users may know that there is no graphical interface for the idok tool. Maybe one day...\r\n\r\nIf you have troubles, please fill an issue. But keep in mind that I don't have any Windows or Mac OSX installation. \r\n\r\nStream medias\r\n=============\r\n\r\n## Youtube URL\r\n\r\nOpen a youtube url is simple\r\n\r\n\tidok -target=YOUR_KODI_IP \"https://www.youtube.com/watch?v=o5snlP8Y5GY\"\r\n\r\nThis will ask XBMC/Kodi to open this video. This doesn't stream video from your computer, so that's not use port opening and/or ssh tunnel.\r\n\r\n**Note: you must enable youtube addon on your kodi/XBMC installation.**\r\n\r\n## distant medias\r\n\r\nYou can open http, rtsp, mms, rtpm... media. That doesn't make usage of ssh or local port. Kodi will connect itself to the stream:\r\n\r\n\tidok -target=YOUR_KODI_IP scheme://url\r\n\r\nWhere \"scheme://url\" can be \"rtpm://...\", \"http://...\", etc... \r\n\r\nFor example, to open \"Tears of Steel\" movie:\r\n\r\n\tidok -target=YOUR_KODI_IP http://ftp.halifax.rwth-aachen.de/blender/demo/movies/ToS/ToS-4k-1920.mov\r\n\r\n\r\nOpen Jamendo rock radio (creative commons musics):\r\n\r\n\tidok -target=YOUR_KODI_IP https://streaming.jamendo.com/JamRock\r\n\r\n\r\n## Stream your local media through HTTP (default)\r\n\r\nTo open a media that resides on your computer:\r\n\r\n\tidok -target=IP_OF_KODI_OR_XBMC /path/to/media.mp3\r\n\r\nThat command open port 8080 (http-alt) to stream media. If you want to use another port:\r\n\r\n\tidok -port=1234 -target=IP_OF_KODI_OR_XBMC /path/to/media.mp3\r\n\r\n**Note**\r\n\r\nThis solution needs to open port on your firewall. \r\n\r\nYou must be sure that the port is opened. On Linux, to open firewall port on you linux installation:\r\n\r\n\tfirewall-cmd --add-port=8080/tcp\r\n\r\nWhen you will reload firewall, or restart computer, the port will be closed. If you want to keep that port opened:\r\n\r\n\tfirewall-cmd --add-port=8080/tcp --permanent\r\n\r\n## Stream your local media throught SSH Tunnel\r\n\r\nIdok can stream media through ssh tunnel. That way, you don't need to configure firewall.\r\n\r\n\tidok -ssh -target=IP_OF_RASPBERRY /path/to/media.mp3\r\n\r\nYour kodi should open the file.\r\n\r\nPressing CTRL+C should stop media stream and exit program.\r\n\r\n**Note**\r\n\r\nWith SSH, idok tries to use your ssh key pair to authenticate. If it fails, it will use login/password to auth. So, there are 2 possibilities:\r\n\r\n* copy you public key to the kodi/xbmc host (with ssh-copy-id for example)\r\n* set -sshuser (if user is not \"pi\") and -sshpass options (if password is not \"raspberry\")\r\n\r\nTo copy you key, type this command:\r\n\r\n\tssh-copy-id USER@KODI_HOST\r\n\r\nWhere USER is the ssh kodi user (\"pi\" on raspbmc, \"root\" for openelec) and KODI_HOST is ip or hotname of the kodi host. By default, raspbmc use \"raspberry\" as password, \"password\" for openelec.\r\n\r\nNow, should should be able to stream media without the need of password.\r\n\r\nSome other streams you can make\r\n===============================\r\n\r\nThe -stdin option is a cool new functionnality that \"ianux\" (an user on DLFP pages) asked me... I took this feature as a challenge ;) And it works !\r\n\r\nSince Idok can now use this option, I discovered that I'm able to make a lot of nice stream to my Kodi installation.\r\n\r\n## Gstreamer - screencast to kodi\r\n\r\nGstreamer can be used to stream medias to stdout using \"fdsink\" or \"filesink location=/dev/stdout\". \r\n\r\nIf you're using operating system that can be able to launch gstreamer pipelines, here is a nice \"screencast stream\":\r\n\r\n\tgst-launch-1.0 -q ximagesrc remote=1 ! videoconvert  ! avenc_mpeg4 ! mpegtsmux ! filesink location=/dev/stdout | idok -stdin -ssh -target=YOUR_KODI_IP\r\n\r\nRemove \"remote=1\" on \"non fedora 20\", this option is needed as far as I know on Fedora 20 (reported bug)\r\n\r\n## livestreamer - ISS station from space from ustream\r\n\r\nLivestreamer is a python tool that is able to fectch streams from some servers and is able to give an url. For some streams, it's impossible to get URL, but we can use \"-O\" option that dump stream to stdout. So...\r\n\r\n\tlivestreamer http://www.ustream.tv/channel/iss-hdev-payload 480p -Q -O | idok -stdin -ssh -target=YOUR_KODI_IP\r\n\r\nThat will launch the ISS live video from space (sometimes the image is black because ISS station is on the night side. Wait 5 minutes and you will see...)\r\n\r\n\r\nInstall from source\r\n===================\r\n\r\n**WARNING - Because there is a problem with dropbear ssh server on raspbmc, you should patch go.crypto/ssh package with the patched I made. See:\r\nhttps://code.google.com/p/go/issues/detail?id=8657**\r\n\r\nYou can clone repository and compile source code yourself:\r\n\r\n\tgit clone http://git.develipsum.com/metal3d/idok.git\r\n\tcd idok\r\n\tgo build idok.go\r\n\r\nThen you can put binary in your PATH:\r\n\r\n\tmkdir -p ~/.local/bin\r\n\tcp idok ~/.local/bin\r\n\r\nOptions\r\n=======\r\n\r\nThere are other options that may be usefull:\r\n\r\n* -target: kodi instance ip or hostname \r\n* -targetport : Kodi jsonrpc port to connect, default is 80\r\n* -login : xbmc or kodi login configured on web interface settings\r\n* -password : xbmc or kodi password configured on web interface settings\r\n* -ssh : If set, idok will dig ssh tunnel to stream content. Not used for youtube url or scheme url\r\n* -sshuser : if you don't user \"pi\" user\r\n* -sshpass : if you changed standard password of \"pi\" user\r\n* -sshport : if you changed standard ssh port or to use other ssh server (default is 22)\r\n* -port : local port for media stream if you don't use ssh tunneling, default is 8080\r\n* -stdin: Read media from stdin and stream this to Kodi.\r\n\r\nTODO\r\n====\r\n\r\n- Refactorisation to be more maintainable\r\n- GUI (or not...)\r\n- better lookup adresse for -target option\r\n\r\n\r\nChangeLog\r\n=========\r\n\r\n* 20140910-1\r\n  - Can now open streams through stdin (livestreamer, gstreamer, etc...) (thanks to \"anxt\" on gstreamer irc channel, thanks to ianux on DLFP that gives the idea)\r\n  - Fixes some needed options\r\n  - prepared to be refactored\r\n  - version number is now \"modern\" (thanks user \"Baud\" on DLFP)\r\n  - Fixes documentation\r\n  - Prepare examples\r\n\r\n* 0.2.6\r\n  - can now open http stream or video other that youtube\r\n  - fix issue #1 (reported at http://forum.xbmc.org/showthread.php?tid=203834)\r\n  - Now, if idok wait reponse to check playing status\r\n  - Add DSA key managment\r\n  - Add some information in -verion option\r\n\r\n* 0.2.4\r\n  - Add youtube url support\r\n\r\n* 0.2.2\r\n  - Make use of SSH key pair\r\n  - Fixed standard ssh tunnel on dropbear server https://code.google.com/p/go/issues/detail?id=8657\r\n  - Fix randomized port for dropbear based ssh server\r\n","google":"UA-54490082-1","note":"Don't delete this file! It's used internally to help with page regeneration."}